"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[909],{40909:function(e,t,n){n.r(t),n.d(t,{Ticket:function(){return K}});var r=n(52322),s=n(25237),u=n.n(s),i=n(2784),o=n(41847),c=n(86334),l=n(23700),a=n(83112),d=n(43672),v=n(40373),f=n(18133),E=n(13106),p=n(9446),_=n(74980),T=n(27147),S=n(88318),b=n(2069),m=n(88162),A=n(32010),R=n(52208),k=n(63160),I=n(17109),U=n(31840),C=n(64408),D=n(72435);let h=[];function g(e){return e.ticket.ticketState===f.lV.ERROR}let B=[];var H=n(5340),N=n(83190),P=n(24962),y=n(74140);function L(e){return e.quickBet.bet}var M=n(37282),O=n(9031),G=n(17765),w=n(63127);function Z(e){return e.system.settings.oddsAcceptMode}let j=u()(()=>Promise.all([n.e(8446),n.e(4474)]).then(n.bind(n,74474)).then(e=>e.DesktopTicket),{loadableGenerated:{webpack:()=>[74474]}}),x=u()(()=>Promise.all([n.e(1895),n.e(8827)]).then(n.bind(n,38827)).then(e=>e.BetSlipDrawer),{loadableGenerated:{webpack:()=>[38827]}}),K=(0,i.memo)((0,l.Z)((0,i.memo)(function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zP,{up:"lg",children:(0,r.jsx)(j,{})}),(0,r.jsx)(c.zP,{down:"md",children:!o.APP_SETTINGS.SHOW_OLD_BETSLIP&&(0,r.jsx)(x,{})})]})}),function(){let{locale:e}=(0,a.Z)(),t=(0,d.v9)(v.Zv),[n,r,s,u,o,c,l]=(0,C.L)([P.Uc,y.Ls,y.Mf,y.O9,y.nc,m.dH,y.az]),{isEnabled:j,state:x}=(0,d.v9)(v.hr),K=(0,p.ye)("custom_sport_type_providers");!function(){let e=(0,d.v9)(v.Tf),t=(0,d.v9)(v.aL),n=(0,d.v9)(L),[r,s]=(0,C.L)([y.AG,P.Uc]),u=t?s:r,i=t?[n]:e;(0,H.W)(e=>{let{type:t,payload:n}=e;if(t===E.lu.BET_CHANGED&&n.is_vip&&i.find(e=>e.betId===n.id)){let e=(0,N.EL)(n);u({ticketState:f.lV.SUCCESS,placedBets:[e],error:{message:e.status===f.$z.REJECTED?"sb.ticket.error.vip_rejected":""}})}})}(),(0,i.useEffect)(()=>{if(j&&(x===f.lV.SUCCESS||x===f.lV.ERROR)){let e=setTimeout(()=>n({ticketState:f.lV.INITIAL}),3e3);return()=>clearTimeout(e)}},[j,x]);let V=(0,i.useMemo)(()=>[...(0,R.rX)(t).map(t=>E.rD.PUBLIC_MATCH_UPDATES(e,t)),E.rD.PUBLIC_UPDATES(e)],[t]),Q=(0,d.v9)(Z),z=(0,_.e)(Q),J=(0,i.useCallback)(e=>{let{type:t,payload:n}=e;t===E.lu.MARKETS_CHANGED&&r({markets:n,oddsAcceptMode:z.current}),t===E.lu.MATCH_CHANGED&&s(n),t!==E.lu.PROVIDER_STATUS_CHANGED||K||c(n)},[]);return(0,H.l)(V,J),!function(e,t,n,r){let s=(0,I.K)(),u=(0,D.in)("getBetBonuses"),o=(0,T.Z)(e,300),c=(0,k.lG)(),l=(0,U.M)(),a=(0,p.ye)("multi_single_bets_bonuses"),f=(0,p.ye)("amb_progress_bar"),_=(0,d.v9)(A._),B=(0,d.v9)(v.R8),H=(0,d.v9)(g),N=(0,d.v9)(v.A3),P=(0,C.L)(m.It),y=(0,S.M)(),L=(0,D.in)("getBetAmbFreebets",[y,t,o]);(0,i.useEffect)(()=>{(!l||a&&(0,R.T4)(o,N))&&(c&&_&&!s&&(B||H)&&(null==o?void 0:o.length)>0&&!(null==o?void 0:o.some(R.Ks))&&!(null==o?void 0:o.some(e=>e.selections.some(e=>e.isSuspended)))?(u({bets:o,deviceId:y,locale:t}).then(e=>n(e)).catch(e=>{var t,r;(null===(t=e.response)||void 0===t?void 0:t.status)===E.EH.UNAUTHORIZED&&P(e),(null===(r=e.response)||void 0===r?void 0:r.status)!==E.EH.BAD_REQUEST&&b.b.captureException(e),n(h)}),f&&L({bets:o,deviceId:y,locale:t}).then(e=>r(e)).catch(e=>{var t,n;(null===(t=e.response)||void 0===t?void 0:t.status)===E.EH.UNAUTHORIZED&&P(e),(null===(n=e.response)||void 0===n?void 0:n.status)!==E.EH.BAD_REQUEST&&b.b.captureException(e),"ERR_CANCELED"!==e.code&&r(h)})):(n(h),r(h)))},[o,c,_,B,H,l,a,N])}(t,e,u,o),!function(e,t,n){let r=(0,I.K)(),s=(0,p.ye)("jackpots"),u=(0,k.lG)(),o=(0,U.M)(),c=(0,D.in)("getJackpotForBet"),l=(0,T.Z)(e,300),a=(0,d.v9)(A._),f=(0,C.L)(m.It),_=(0,d.v9)(v.A3),h=(0,S.M)();(0,i.useEffect)(()=>{(!o||(0,R.T4)(l,_))&&(!s||!u||!a||r||!((null==l?void 0:l.length)>0)||(null==l?void 0:l.some(R.Ks))||(null==l?void 0:l.some(e=>e.selections.some(e=>e.isSuspended)))?n(B):c({bets:l,deviceId:h,locale:t}).then(e=>n(e)).catch(e=>{var t,r;(null===(t=e.response)||void 0===t?void 0:t.status)===E.EH.UNAUTHORIZED&&f(e),(null===(r=e.response)||void 0===r?void 0:r.status)!==E.EH.BAD_REQUEST&&b.b.captureException(e),n(B)}))},[l,u,a,s,o,_])}(t,e,l),!function(){let e=(0,d.v9)(G.U),t=(0,M.U)(),n=(0,C.L)(P.cQ),r=(0,d.v9)(v.hr),s=(0,k.lG)();(0,i.useEffect)(()=>{if(window.sessionStorage&&e){let e=JSON.parse(sessionStorage.getItem(f.I.QUICK_BET));if(e){var r;n({...e,...(null===(r=e.currency)||void 0===r?void 0:r.code)!==t.code?{currency:t,isApproved:!1}:void 0,...e.isEnabled&&!s?{isEnabled:!1,isApproved:!1}:void 0})}}},[e]),(0,O.s)(()=>{window.sessionStorage&&sessionStorage.setItem(f.I.QUICK_BET,JSON.stringify({isEnabled:r.isEnabled,stake:r.stake,currency:r.currency,isApproved:r.isApproved}))},[r.isEnabled,r.stake,r.currency,r.isApproved])}(),!function(){let e=(0,d.v9)(w.E),t=(0,C.L)(y.Ev);(0,i.useEffect)(()=>{e&&t(e)},[e])}(),null}))},23700:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(52322);let s=(e,t)=>function(n){let s=t(n);return(0,r.jsx)(e,{...n,...s})}},17109:function(e,t,n){n.d(t,{K:function(){return u}});var r=n(41847),s=n(37282);function u(){var e,t;let n=(0,s.U)();return null!==(t=null===(e=r.APP_SETTINGS.DECORATIVE_CURRENCIES)||void 0===e?void 0:e.includes(n.code))&&void 0!==t&&t}},31840:function(e,t,n){n.d(t,{M:function(){return o},T:function(){return c}});var r=n(43672),s=n(52208);function u(e){return(0,s.I6)(e.ticket.bets)}function i(e){return(0,s.T4)(e.ticket.bets,e.system.settings.multiSingleAvailableByProvider)}function o(){return(0,r.v9)(u)}function c(){return(0,r.v9)(i)}},27147:function(e,t,n){var r=n(22970),s=n(2784),u=r.__importDefault(n(88190));t.Z=function(e,t){void 0===t&&(t=200);var n=s.useState(e),r=n[0],i=n[1],o=s.useRef(),c=s.useRef(null),l=s.useRef(0);return s.useEffect(function(){if(o.current)c.current=e,l.current=!0;else{i(e);var n=function(){l.current?(l.current=!1,i(c.current),o.current=setTimeout(n,t)):o.current=void 0};o.current=setTimeout(n,t)}},[e]),u.default(function(){o.current&&clearTimeout(o.current)}),r}},88190:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(22970),s=n(2784),u=r.__importDefault(n(62155));t.default=function(e){var t=s.useRef(e);t.current=e,u.default(function(){return function(){return t.current()}})}}}]);
//# sourceMappingURL=909.49db96bec5106cbe.js.map